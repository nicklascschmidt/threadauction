{"ast":null,"code":"import _classCallCheck from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/src/components/bidStatus/bidStatus.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { calculateCreatedAt, calculateTimeRemaining, showDurationTimeRemaining } from '../timeConverter/timeConverter';\n\nvar BidStatus =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BidStatus, _React$Component);\n\n  function BidStatus(props) {\n    var _this;\n\n    _classCallCheck(this, BidStatus);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BidStatus).call(this, props));\n\n    _this.getIsAuctionComplete = function (createdAt) {\n      var momentTimeRemaining = calculateTimeRemaining(createdAt);\n      var durationTimeRemainingObj = showDurationTimeRemaining(momentTimeRemaining);\n      var isAuctionComplete = durationTimeRemainingObj.isComplete;\n      return isAuctionComplete;\n    };\n\n    _this.state = {\n      winningBid: null,\n      bidResult: null\n    };\n    return _this;\n  } // is the auction complete\n  // is the users bid the max amount\n  // we'll need--\n  // auction createdAt or boolean whether or not it's complete\n  // userID\n  // user bid amount\n\n\n  _createClass(BidStatus, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.isUserBidHighestBid(this.props.auctionId, this.props.bidAmount);\n    }\n  }, {\n    key: \"isUserBidHighestBid\",\n    value: function isUserBidHighestBid(auctionId, userBid) {\n      var _this2 = this;\n\n      var winningBid = new Promise(function (resolve, reject) {\n        _this2.getMaxBidAmountFromAuctionId(auctionId).then(function (resp) {\n          resolve(resp.data.bidAmount);\n        }).catch(function (err) {\n          reject(err);\n        });\n      });\n      winningBid.then(function (data) {\n        console.log('winning bid: ', data);\n\n        _this2.setState({\n          winningBid: data\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n      console.log('winningBid: ', winningBid, ' vs user bid: ', userBid);\n    } // returns a promise\n\n  }, {\n    key: \"getMaxBidAmountFromAuctionId\",\n    value: function getMaxBidAmountFromAuctionId(auctionId) {\n      var params = {\n        auctionId: auctionId\n      };\n      return axios.get('/api/bid/completedAuctionHighestBid', {\n        params: params\n      });\n    }\n  }, {\n    key: \"showBidStatus\",\n    value: function showBidStatus() {\n      var isAuctionComplete = this.getIsAuctionComplete(this.props.createdAt);\n      console.log('STATE~~', this.state); // console.log('This is the bidStatus component state',this.state);\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, isAuctionComplete ? 'Complete' : 'Ongoing'));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('this.props', this.props);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.showBidStatus());\n    }\n  }]);\n\n  return BidStatus;\n}(React.Component);\n\nexport default BidStatus; // isUserBidHighestBid(auctionId,userBid) {\n//   const winningBid = new Promise( (resolve, reject) => {\n//     this.getMaxBidAmountFromAuctionId(auctionId)\n//     .then(resp => {\n//       resolve(resp.data.bidAmount)\n//     }).catch(err => {\n//       reject(err)\n//     });\n//   })\n//   console.log('winningBid: ',winningBid, ' vs user bid: ',userBid);\n//   return winningBid;\n// }\n// // returns a promise\n// getMaxBidAmountFromAuctionId (auctionId) {\n//   const params = { auctionId };\n//   return axios.get('/api/bid/completedAuctionHighestBid', { params })\n// }\n// async isUserBidHighestBid(auctionId,userBid) {\n//   const winningBid = await this.getMaxBidAmountFromAuctionId(auctionId);\n//   console.log('winningBid: ',winningBid, ' vs user bid: ',userBid);\n//   const bidResult = null;\n//   if (winningBid === userBid) {\n//     bidResult = 'Auction won';\n//   } else {\n//     bidResult = 'Not the highest bid';\n//   }\n//   return bidResult\n// }\n// // returns a promise\n// getMaxBidAmountFromAuctionId (auctionId) {\n//   const params = { auctionId };\n//   const bidAmountResult = axios.get('/api/bid/completedAuctionHighestBid', { params })\n//   .then(resp => {\n//       return resp.data.bidAmount\n//   }).catch(err => {\n//       console.log(err);\n//   });\n//   return bidAmountResult\n// }\n// showBidStatus = (createdAt) => {\n//   // console.log('createdAt',createdAt);\n//   let momentTimeRemaining = calculateTimeRemaining(createdAt);\n//   let durationTimeRemainingObj = showDurationTimeRemaining(momentTimeRemaining);\n//   if (durationTimeRemainingObj.isComplete) {\n//     return <span><strong>Bid Status: </strong>Complete</span>\n//   } else {\n//     return <span><strong>Bid Status: </strong>Pending</span>\n//   }\n// }\n// async getMaxBidAmountFromAuctionId (auctionId) {\n//   // async function waitForPromise() {\n//   //   let result = await Promise.resolve('this is a sample promise');\n//   // }\n//   const params = { auctionId };\n//   const bidAmountResult = await axios.get('/api/bid/completedAuctionHighestBid', { params })\n//   .then(resp => {\n//       console.log('This should be the max amount: ',resp.data.bidAmount);\n//       return resp.data.bidAmount\n//   }).catch(err => {\n//       console.log(err);\n//   });\n//   return bidAmountResult\n// }","map":{"version":3,"sources":["/Users/nicklascschmidt/Code/Nicky/threadauction/client/src/components/bidStatus/bidStatus.js"],"names":["React","axios","calculateCreatedAt","calculateTimeRemaining","showDurationTimeRemaining","BidStatus","props","getIsAuctionComplete","createdAt","momentTimeRemaining","durationTimeRemainingObj","isAuctionComplete","isComplete","state","winningBid","bidResult","isUserBidHighestBid","auctionId","bidAmount","userBid","Promise","resolve","reject","getMaxBidAmountFromAuctionId","then","resp","data","catch","err","console","log","setState","params","get","showBidStatus","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,EAA6BC,sBAA7B,EAAqDC,yBAArD,QAAsF,gCAAtF;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UAsBnBC,oBAtBmB,GAsBI,UAACC,SAAD,EAAe;AACpC,UAAMC,mBAAmB,GAAGN,sBAAsB,CAACK,SAAD,CAAlD;AACA,UAAME,wBAAwB,GAAGN,yBAAyB,CAACK,mBAAD,CAA1D;AACA,UAAME,iBAAiB,GAAGD,wBAAwB,CAACE,UAAnD;AACA,aAAOD,iBAAP;AACD,KA3BkB;;AAGjB,UAAKE,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,IADD;AAEXC,MAAAA,SAAS,EAAE;AAFA,KAAb;AAHiB;AAOlB,G,CAED;AACA;AAEA;AACA;AACA;AACA;;;;;wCAEoB;AAClB,WAAKC,mBAAL,CAAyB,KAAKV,KAAL,CAAWW,SAApC,EAA8C,KAAKX,KAAL,CAAWY,SAAzD;AACD;;;wCAWmBD,S,EAAUE,O,EAAS;AAAA;;AACrC,UAAML,UAAU,GAAG,IAAIM,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACnD,QAAA,MAAI,CAACC,4BAAL,CAAkCN,SAAlC,EACGO,IADH,CACQ,UAAAC,IAAI,EAAI;AACZJ,UAAAA,OAAO,CAACI,IAAI,CAACC,IAAL,CAAUR,SAAX,CAAP;AACD,SAHH,EAGKS,KAHL,CAGW,UAAAC,GAAG,EAAI;AACdN,UAAAA,MAAM,CAACM,GAAD,CAAN;AACD,SALH;AAMD,OAPkB,CAAnB;AAQAd,MAAAA,UAAU,CAACU,IAAX,CAAiB,UAACE,IAAD,EAAU;AACzBG,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BJ,IAA5B;;AACA,QAAA,MAAI,CAACK,QAAL,CAAc;AACZjB,UAAAA,UAAU,EAAEY;AADA,SAAd;AAGD,OALD,EAKGC,KALH,CAKU,UAACC,GAAD,EAAS;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAPD;AAQAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BhB,UAA3B,EAAuC,gBAAvC,EAAwDK,OAAxD;AACD,K,CAED;;;;iDAC6BF,S,EAAW;AACtC,UAAMe,MAAM,GAAG;AAAEf,QAAAA,SAAS,EAATA;AAAF,OAAf;AACA,aAAOhB,KAAK,CAACgC,GAAN,CAAU,qCAAV,EAAiD;AAAED,QAAAA,MAAM,EAANA;AAAF,OAAjD,CAAP;AACD;;;oCAGe;AACd,UAAMrB,iBAAiB,GAAG,KAAKJ,oBAAL,CAA0B,KAAKD,KAAL,CAAWE,SAArC,CAA1B;AACAqB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKjB,KAA3B,EAFc,CAKd;;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOF,iBAAiB,GAAG,UAAH,GAAgB,SAAxC,CADF,CADF;AAMD;;;6BAEQ;AACPkB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyB,KAAKxB,KAA9B;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAK4B,aAAL,EADH,CADF;AAKD;;;;EA/EqBlC,KAAK,CAACmC,S;;AAkF9B,eAAe9B,SAAf,C,CAME;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGF;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { calculateCreatedAt, calculateTimeRemaining, showDurationTimeRemaining } from '../timeConverter/timeConverter';\n\nclass BidStatus extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      winningBid: null,\n      bidResult: null,\n    }\n  }\n\n  // is the auction complete\n  // is the users bid the max amount\n\n  // we'll need--\n  // auction createdAt or boolean whether or not it's complete\n  // userID\n  // user bid amount\n\n  componentDidMount() {\n    this.isUserBidHighestBid(this.props.auctionId,this.props.bidAmount);\n  }\n\n\n  getIsAuctionComplete = (createdAt) => {\n    const momentTimeRemaining = calculateTimeRemaining(createdAt);\n    const durationTimeRemainingObj = showDurationTimeRemaining(momentTimeRemaining);\n    const isAuctionComplete = durationTimeRemainingObj.isComplete\n    return isAuctionComplete\n  }\n\n\n  isUserBidHighestBid(auctionId,userBid) {\n    const winningBid = new Promise( (resolve, reject) => {\n      this.getMaxBidAmountFromAuctionId(auctionId)\n        .then(resp => {\n          resolve(resp.data.bidAmount)\n        }).catch(err => {\n          reject(err)\n        });\n    })\n    winningBid.then( (data) => {\n      console.log('winning bid: ',data)\n      this.setState({\n        winningBid: data\n      })\n    }).catch( (err) => {\n      console.log(err)\n    })\n    console.log('winningBid: ',winningBid, ' vs user bid: ',userBid);\n  }\n\n  // returns a promise\n  getMaxBidAmountFromAuctionId(auctionId) {\n    const params = { auctionId };\n    return axios.get('/api/bid/completedAuctionHighestBid', { params })\n  }\n\n\n  showBidStatus() {\n    const isAuctionComplete = this.getIsAuctionComplete(this.props.createdAt);\n    console.log('STATE~~',this.state)\n\n    \n    // console.log('This is the bidStatus component state',this.state);\n    return (\n      <div>\n        <span>{isAuctionComplete ? 'Complete' : 'Ongoing'}</span>\n        {/* <span>{bidResult}</span> */}\n      </div>\n    )\n  }\n\n  render() {\n    console.log('this.props',this.props);\n    return (\n      <div>\n        {this.showBidStatus()}\n      </div>\n    )\n  }\n}\n\nexport default BidStatus;\n\n\n\n\n\n  // isUserBidHighestBid(auctionId,userBid) {\n  //   const winningBid = new Promise( (resolve, reject) => {\n  //     this.getMaxBidAmountFromAuctionId(auctionId)\n  //     .then(resp => {\n  //       resolve(resp.data.bidAmount)\n  //     }).catch(err => {\n  //       reject(err)\n  //     });\n  //   })\n  //   console.log('winningBid: ',winningBid, ' vs user bid: ',userBid);\n    \n  //   return winningBid;\n  // }\n\n  // // returns a promise\n  // getMaxBidAmountFromAuctionId (auctionId) {\n  //   const params = { auctionId };\n  //   return axios.get('/api/bid/completedAuctionHighestBid', { params })\n  // }\n\n\n// async isUserBidHighestBid(auctionId,userBid) {\n//   const winningBid = await this.getMaxBidAmountFromAuctionId(auctionId);\n//   console.log('winningBid: ',winningBid, ' vs user bid: ',userBid);\n\n//   const bidResult = null;\n//   if (winningBid === userBid) {\n//     bidResult = 'Auction won';\n//   } else {\n//     bidResult = 'Not the highest bid';\n//   }\n//   return bidResult\n// }\n\n\n// // returns a promise\n// getMaxBidAmountFromAuctionId (auctionId) {\n//   const params = { auctionId };\n//   const bidAmountResult = axios.get('/api/bid/completedAuctionHighestBid', { params })\n//   .then(resp => {\n//       return resp.data.bidAmount\n//   }).catch(err => {\n//       console.log(err);\n//   });\n//   return bidAmountResult\n// }\n\n// showBidStatus = (createdAt) => {\n//   // console.log('createdAt',createdAt);\n//   let momentTimeRemaining = calculateTimeRemaining(createdAt);\n//   let durationTimeRemainingObj = showDurationTimeRemaining(momentTimeRemaining);\n\n//   if (durationTimeRemainingObj.isComplete) {\n//     return <span><strong>Bid Status: </strong>Complete</span>\n//   } else {\n//     return <span><strong>Bid Status: </strong>Pending</span>\n//   }\n// }\n\n\n// async getMaxBidAmountFromAuctionId (auctionId) {\n\n//   // async function waitForPromise() {\n//   //   let result = await Promise.resolve('this is a sample promise');\n//   // }\n\n//   const params = { auctionId };\n//   const bidAmountResult = await axios.get('/api/bid/completedAuctionHighestBid', { params })\n//   .then(resp => {\n//       console.log('This should be the max amount: ',resp.data.bidAmount);\n//       return resp.data.bidAmount\n//   }).catch(err => {\n//       console.log(err);\n//   });\n//   return bidAmountResult\n// }"]},"metadata":{},"sourceType":"module"}