{"ast":null,"code":"import _defineProperty from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nicklascschmidt/Code/Nicky/threadauction/client/src/pages/signup/signup.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport './signup-style.css';\nimport { validateInputs } from './userValidation';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Signup, _React$Component);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signup).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.setState({\n        submitted: false\n      });\n    };\n\n    _this.handleChange = function (event) {\n      console.log('signup handleChange');\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      }, _this.saveInputs());\n    };\n\n    _this.saveInputs = function () {\n      var _this$state = _this.state,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          username = _this$state.username,\n          password = _this$state.password,\n          email = _this$state.email,\n          address = _this$state.address,\n          city = _this$state.city,\n          stateUSA = _this$state.stateUSA,\n          zip = _this$state.zip;\n      var userData = {\n        firstName: firstName,\n        lastName: lastName,\n        username: username,\n        password: password,\n        email: email,\n        address: address,\n        city: city,\n        stateUSA: stateUSA,\n        zip: zip // zip: parseInt(zip)\n\n      };\n      console.log('userData', userData); // run validate user inputs call\n\n      _this.validateUserInputs(userData);\n    };\n\n    _this.validateUserInputs = function (data) {\n      console.log('validating inputs...');\n      var errorObject = validateInputs(data);\n      console.log('errorObject', errorObject);\n\n      _this.setState({\n        errorArray: errorObject.errorArray,\n        isError: errorObject.isError\n      }, _this.sendUserDataToDb()); // }, () => {\n      //     if (!this.state.isError) {\n      //         // save to database\n      //         console.log('no error! save to db');\n      //     } else {\n      //         // don't save to db\n      //         console.log('there\\'s an error - we are not saving to db');\n      //     }\n      // })\n\n    };\n\n    _this.sendUserDataToDb = function (data) {\n      // if validation succeeds\n      console.log('this.state', _this.state);\n\n      if (!_this.state.isError) {\n        // save to database\n        console.log('no error! save to db');\n      } else {\n        // don't save to db\n        console.log('there\\'s an error - we are not saving to db');\n      } // when database save succeds, send to redux store and set state to\n      // {submitted: true, loading : false}\n      // send to store\n\n\n      _this.setState({\n        submitted: true\n      }); // }, this.sendToReduxStore);\n\n    };\n\n    _this.loginAcceptedOrDenied = function (data) {\n      // check db for login data here\n      data.isLoggedIn = true;\n\n      _this.props.dispatch({\n        type: 'USER_SIGNUP_REQUEST',\n        payload: data\n      }); // bring user to login page\n\n\n      window.location = '/login';\n    };\n\n    _this.displayErrors = function () {\n      return _this.state.errorArray.map(function (errorMsg, n) {\n        return React.createElement(\"p\", {\n          key: n,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, errorMsg);\n      });\n    };\n\n    _this.state = {\n      firstName: '',\n      lastName: '',\n      username: '',\n      password: '',\n      email: '',\n      address: '',\n      city: '',\n      stateUSA: '',\n      zip: '',\n      submitted: false,\n      loading: false,\n      isError: null,\n      errorArray: []\n    };\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Please fill out the information below.\"), this.state.submitted ? React.createElement(\"div\", {\n        className: \"error-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, this.displayErrors()) : '', React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row form-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"User Info\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"First name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"firstName\",\n        value: this.state.firstName,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Last name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"lastName\",\n        value: this.state.lastName,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Username: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Password: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Email: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Shipping Info\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Address: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"address\",\n        value: this.state.address,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"City: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"city\",\n        value: this.state.city,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"State: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"stateUSA\",\n        value: this.state.stateUSA,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Zip: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"zip\",\n        value: this.state.zip,\n        onChange: function onChange(event) {\n          return _this2.handleChange(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"align-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary submit-button\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"submit\"))));\n    }\n  }]);\n\n  return Signup;\n}(React.Component);\n\nexport default Signup;","map":{"version":3,"sources":["/Users/nicklascschmidt/Code/Nicky/threadauction/client/src/pages/signup/signup.js"],"names":["React","connect","validateInputs","Signup","props","componentDidMount","setState","submitted","handleChange","event","console","log","target","name","value","handleSubmit","preventDefault","loading","saveInputs","state","firstName","lastName","username","password","email","address","city","stateUSA","zip","userData","validateUserInputs","data","errorObject","errorArray","isError","sendUserDataToDb","loginAcceptedOrDenied","isLoggedIn","dispatch","type","payload","window","location","displayErrors","map","errorMsg","n","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport './signup-style.css';\nimport { validateInputs } from './userValidation';\n\nclass Signup extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            firstName: '',\n            lastName: '',\n            username: '',\n            password: '',\n            email: '',\n            address: '',\n            city: '',\n            stateUSA: '',\n            zip: '',\n            submitted: false,\n            loading: false,\n            isError: null,\n            errorArray: []\n        }\n    }\n\n    componentDidMount = () => {\n        this.setState({\n            submitted: false\n        });\n    }\n\n    handleChange = (event) => {\n        console.log('signup handleChange');\n        const { name, value } = event.target;\n        this.setState({\n            [name]: value\n        });\n\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n\n        this.setState({loading: true}, this.saveInputs());\n    }\n\n    saveInputs = () => {\n        \n        const { firstName, lastName, username, password, email, address, city, stateUSA, zip } = this.state;\n        const userData = {\n            firstName: firstName,\n            lastName: lastName,\n            username: username,\n            password: password,\n            email: email,\n            address: address,\n            city: city,\n            stateUSA: stateUSA,\n            zip: zip\n            // zip: parseInt(zip)\n        }\n        console.log('userData',userData);\n\n        // run validate user inputs call\n        this.validateUserInputs(userData);\n    }\n\n    validateUserInputs = (data) => {\n        console.log('validating inputs...');\n\n        let errorObject = validateInputs(data);\n        console.log('errorObject',errorObject);\n\n        this.setState({\n            errorArray: errorObject.errorArray,\n            isError: errorObject.isError\n        }, this.sendUserDataToDb());\n        // }, () => {\n        //     if (!this.state.isError) {\n        //         // save to database\n        //         console.log('no error! save to db');\n        //     } else {\n        //         // don't save to db\n        //         console.log('there\\'s an error - we are not saving to db');\n        //     }\n        // })\n    }\n\n    sendUserDataToDb = (data) => {\n        // if validation succeeds\n        console.log('this.state',this.state);\n        \n        if (!this.state.isError) {\n            // save to database\n            console.log('no error! save to db');\n        } else {\n            // don't save to db\n            console.log('there\\'s an error - we are not saving to db');\n        }\n\n        // when database save succeds, send to redux store and set state to\n        // {submitted: true, loading : false}\n        // send to store\n        this.setState({\n            submitted: true\n        });\n        // }, this.sendToReduxStore);\n    }\n\n\n    loginAcceptedOrDenied = (data) => {\n        // check db for login data here\n        data.isLoggedIn = true;\n\n        this.props.dispatch({\n            type: 'USER_SIGNUP_REQUEST',\n            payload: data\n        });\n\n        // bring user to login page\n        window.location = '/login';\n    }\n\n    displayErrors = () => {\n        return this.state.errorArray.map((errorMsg , n) => {\n            return <p key={n}>{errorMsg}</p>\n        })\n    }\n\n\n    \n    render() {\n       \n        return (\n            <div className='container'>\n                <h3>Please fill out the information below.</h3>\n                {this.state.submitted ? <div className='error-box'>{this.displayErrors()}</div> : ''}\n                {/* {this.state.submitted ? <div className='error-box'>{this.displayErrors()}</div> : <div className='error-box'>odgoidfgads</div>} */}\n\n                <form>\n                    <div className='row form-style'>\n                        <div className='col-6'>\n                            <div>\n                                <h4>User Info</h4>\n                                <span>First name: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"firstName\"\n                                    value={this.state.firstName}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>Last name: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"lastName\"\n                                    value={this.state.lastName}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>Username: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"username\"\n                                    value={this.state.username}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>Password: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"password\"\n                                    value={this.state.password}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>Email: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"email\"\n                                    value={this.state.email}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                        </div>\n                        <div className='col-6'>\n                            <h4>Shipping Info</h4>\n                            <div>\n                                <span>Address: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"address\"\n                                    value={this.state.address}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>City: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"city\"\n                                    value={this.state.city}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>State: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"stateUSA\"\n                                    value={this.state.stateUSA}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                            <div>\n                                <span>Zip: </span>\n                                <input\n                                    type=\"text\"\n                                    name=\"zip\"\n                                    value={this.state.zip}\n                                    onChange={event => this.handleChange(event)}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <br></br>\n                    <div className='align-center'>\n                        <button className='btn btn-primary submit-button' onClick={this.handleSubmit}>submit</button>\n                        {/* {this.state.loading ? 'Loading' : <button className='btn btn-primary submit-button' onClick={this.handleSubmit}>submit</button>} */}\n                    </div>\n                    \n                </form>\n            </div>\n        )\n    }\n}\n\nexport default (Signup);"]},"metadata":{},"sourceType":"module"}