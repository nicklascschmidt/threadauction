(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),o=n.n(i),s=n(2),l=n(3),c=n(6),u=n(4),d=n(5),m=n(107),p=n(109),g=n(108),h=n(14),f=n(12),b=n(13);function E(){var e=Object(f.a)(["\n    margin: 0 auto;\n    width: 50%;\n    text-align: center;\n    border: 1px solid black;\n    @media(max-width: 700px) {\n        width: 80%;\n        margin-top: 20px;\n    }\n"]);return E=function(){return e},e}var v=Object(b.a)("div")(E()),y=(n(63),n(8)),A=n.n(y),x=n(106),I=n(17),O=n(11),S=function(e){console.log(e),console.log("validating inputs...");var t=[],n=!1,a=parseInt(e.userBid);return a||(t.push("Please enter a valid bid amount."),n=!0),a>1e4&&(t.push("Please enter an amount under $10,000."),n=!0),a<(e.currentHighestBid>=e.startingPrice?e.currentHighestBid+e.minBidIncrement:e.startingPrice)&&(t.push("Please enter an amount higher than the current price + the minimum bid increment."),n=!0),{errorArray:t,isValidationError:n}};function w(){var e=Object(f.a)(["\n    text-align: center;\n\n    border: 2px solid red;\n    padding: 10px;\n    \n"]);return w=function(){return e},e}var j=Object(b.a)("div")(w()),C=n(20),N=n.n(C),k=function(e){return N()(new Date(e)).format("MMMM Do YYYY, h:mm a")},D=function(e){var t=N()(new Date(e)).add(7,"days"),n=N()(new Date(t)),a=N()(new Date);return n.diff(a)},P=function(e){var t=N.a.duration(e),n={isComplete:null,days:t.days(),hours:t.hours(),minutes:t.minutes()};return n.days<=0&&n.hours<=0&&n.minutes<=0?n.isComplete=!0:n.isComplete=!1,n};function B(){var e=Object(f.a)(["\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto;\n\n    @media (min-width: 768px) {\n      .container {\n        width: 750px;\n      }\n    }\n    @media (min-width: 992px) {\n      .container {\n        width: 970px;\n      }\n    }\n    @media (min-width: 1200px) {\n      .container {\n        width: 1170px;\n      }\n    }\n"]);return B=function(){return e},e}Object(b.a)("section")(B()),n(84);var T=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({auctionId:n.props.match.params.auctionId,loading:!0,errorArray:[],isDbError:null},function(){n.pullProductDataFromDb(n.state.auctionId)})},n.pullProductDataFromDb=function(e){var t={auctionId:e};A.a.get("/api/auction/id",{params:t}).then(function(e){200===e.status?(n.setState({title:e.data.title,imgLink:e.data.imgLink,description:e.data.description,gender:e.data.gender,category:e.data.category,startingPrice:e.data.startingPrice,minBidIncrement:e.data.minBidIncrement,createdAt:e.data.createdAt,loading:!1}),null===e.data&&(console.log("resp.data is null - no auction data"),n.setState({errorMsg:"We couldn't find the product. Please try again.",isDbError:!0}))):console.log("front end /api/auction/id error")}).catch(function(e){n.setState({errorMsg:"We ran into an issue trying to find the product. Please reload the page.",isDbError:!0}),console.log(e)}),A.a.get("/api/bid/highestBid",{params:t}).then(function(e){200===e.status?(n.setState({currentHighestBid:e.data,loading:!1}),null===e.data&&(console.log("no existing bids"),n.setState({currentHighestBid:"",loading:!1}))):console.log("front end /api/auction/id error")}).catch(function(e){n.setState({errorMsg:"We ran into an issue trying to find the bid. Please reload the page.",isDbError:!0}),console.log(e)})},n.calculateTimeRemaining=function(e){return"durationTimeRemaining"===e?n.showTimeRemaining(n.state.createdAt):"createdAt"===e?k(n.state.createdAt):r.a.createElement("span",null,"error")},n.showTimeRemaining=function(e){var t=D(e),n=P(t);return n.isComplete?r.a.createElement("span",null,r.a.createElement("strong",null,"Auction Complete")):r.a.createElement("span",null,r.a.createElement("strong",null,"Time Remaining: "),n.days,"d ",n.hours,"h ",n.minutes,"m")},n.handlePlaceBid=function(e){e.preventDefault(),n.setState({loading:!0},function(){return n.validateBid(n.state)})},n.validateBid=function(e){var t=S(e);n.setState({errorArray:t.errorArray,isValidationError:t.isValidationError});var a={userId:n.props.userId,auctionId:n.state.auctionId,bidAmount:parseInt(n.state.userBid),bidSubmitTime:Date.now()};t.isValidationError?n.setState({loading:!1}):n.sendUserBidToDb(a)},n.sendUserBidToDb=function(e){A.a.post("/api/bid/create",e).then(function(e){200===e.status?n.setState({submitted:!0,loading:!1,errorArray:[],isError:!1}):console.log("front end /api/bid/create error")}).catch(function(e){console.log(e),n.setState({errorArray:["There was a problem saving your bid."]})})},n.displayErrors=function(){return n.state.errorArray.map(function(e,t){return r.a.createElement("p",{key:t},e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(I.a)({},a,r))},n.componentDidUpdate=function(){n.state.submitted&&n.setState({userBid:"",submitted:!1},function(){n.pullProductDataFromDb(n.state.auctionId)})},n.state={auctionId:"",title:"",imgLink:"",description:"",gender:"",category:"",startingPrice:"",currentHighestBid:"",minBidIncrement:"",createdAt:"",userBid:"",submitted:!1,loading:!1,errorArray:[],isDbError:null,isValidationError:null},n.pullProductDataFromDb=n.pullProductDataFromDb.bind(Object(O.a)(Object(O.a)(n))),n.handlePlaceBid=n.handlePlaceBid.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.state.isDbError?r.a.createElement("h3",null,this.state.errorMsg):r.a.createElement("div",{className:"box-style-product"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"img-container-product"},r.a.createElement("img",{src:this.state.imgLink,height:"300px",width:"300px",alt:"",className:"center-block rounded img-custom-product"}))),r.a.createElement("div",{className:"col-8 row"},r.a.createElement("h3",null,this.state.title),r.a.createElement("p",null,this.state.description),r.a.createElement("div",{className:"col-7"},r.a.createElement("p",null,r.a.createElement("strong",null,"Gender: "),this.state.gender),r.a.createElement("p",null,r.a.createElement("strong",null,"Category: "),this.state.category),r.a.createElement("p",null,r.a.createElement("strong",null,"Starting Price: "),"$",this.state.startingPrice),this.state.currentHighestBid?r.a.createElement("p",null,r.a.createElement("strong",null,"Current Highest Bid: "),"$",this.state.currentHighestBid):"",r.a.createElement("p",null,r.a.createElement("strong",null,"Minimum Bid Increment: "),"$",this.state.minBidIncrement),r.a.createElement("p",null,r.a.createElement("strong",null,"Posted: "),this.calculateTimeRemaining("createdAt")),r.a.createElement("p",null,this.calculateTimeRemaining("durationTimeRemaining"))),r.a.createElement("div",{className:"col-5"},this.props.username?r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("span",null,"Bid Amount ($): "),r.a.createElement("input",{className:"vertical-margin",type:"text",name:"userBid",value:this.state.userBid,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("button",{onClick:this.handlePlaceBid,className:"btn btn-info button-style"},"Place Bid")):r.a.createElement("h5",null,"Please sign in to a place bid.")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"}),r.a.createElement("div",{className:"col-8"},this.state.isValidationError?r.a.createElement(j,null,this.displayErrors()):""))))}}]),t}(r.a.Component);var L=Object(h.b)(function(e){return console.log("UserProfile: mapStateToProps state",e),{username:e.username,userId:e.userId,isLoggedIn:!0}})(T),M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).showTimeRemaining=function(e){var t=D(e),n=P(t);return n.isComplete?r.a.createElement("span",null,"Auction Complete"):r.a.createElement("span",null,"Time Remaining: ",n.days,"d ",n.hours,"h ",n.minutes,"m")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x.a,{to:"/product/".concat(this.props.auctionId),component:L},r.a.createElement("img",{src:this.props.imgLink,height:"150px",width:"150px",alt:""})),r.a.createElement(x.a,{to:"/product/".concat(this.props.auctionId),component:L},r.a.createElement("h3",null,"Title: ",this.props.title)),r.a.createElement("p",null,"Starting Price: ",this.props.startingPrice),r.a.createElement("p",null,"Created At: ",k(this.props.createdAt)),r.a.createElement("p",null,this.showTimeRemaining(this.props.createdAt)))}}]),t}(r.a.Component),U=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({userId:n.props.userId,loading:!0,errorArray:[],isError:null},function(){n.pullUserDataFromDb(n.state.userId),n.pullAuctionsFromDb(n.state.userId)})},n.pullUserDataFromDb=function(e){var t={userId:e};A.a.get("/api/user/profile",{params:t}).then(function(e){if(200===e.status){if(n.setState({firstName:e.data.firstName,lastName:e.data.lastName,username:e.data.username,password:e.data.password,email:e.data.email,address:e.data.address,city:e.data.city,stateUSA:e.data.stateUSA,zip:e.data.zip,loading:!1}),null!==e.data)return void n.setState({errorMsg:null,isError:!1});console.log("resp.data is null"),n.setState({errorMsg:"We couldn't find your profile. Please reload the page.",isError:!0})}else console.log("front end /api/user/profile error")}).catch(function(e){n.setState({errorMsg:"We ran into an issue trying to find your account. Please reload the page.",isError:!0}),console.log(e)})},n.pullAuctionsFromDb=function(e){console.log("userId",e);var t={userId:e};console.log("userParams",t),A.a.get("/api/user/auctions",{params:t}).then(function(e){if(console.log("resp.data",e.data),200===e.status){if(console.log("success"),n.setState({auctionArray:e.data},function(){console.log("auction array state",n.state.auctionArray),n.displayAuctions(n.state.auctionArray)}),null!==e.data)return void n.setState({errorMsg:null,isError:!1});console.log("resp.data is null"),n.setState({errorMsg:"We couldn't find your profile. Please reload the page.",isError:!0})}else console.log("front end /api/user/profile error")}).catch(function(e){n.setState({errorMsg:"We ran into an issue trying to find your account. Please reload the page.",isError:!0}),console.log(e)})},n.displayAuctions=function(e){console.log("displaying auctions...",e);var t=n.state.auctionArray.map(function(e){return console.log("auction",e),r.a.createElement(M,{key:e.title,auctionId:e.id,imgLink:e.imgLink,title:e.title,startingPrice:e.startingPrice,createdAt:e.createdAt})});return r.a.createElement("div",null,t)},n.state={userId:"",firstName:"",lastName:"",username:"",password:"",email:"",address:"",city:"",stateUSA:"",zip:"",auctionArray:[],loading:!0,errorArray:[],isError:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(v,null,this.state.loading?r.a.createElement("h3",null,this.state.isError?this.state.errorMsg:"Loading..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"My Profile"),r.a.createElement("p",null,"Username: ",this.state.username),r.a.createElement("p",null,"First name: ",this.state.firstName),r.a.createElement("p",null,"Last name: ",this.state.lastName),r.a.createElement("p",null,"Username: ",this.state.username),r.a.createElement("p",null,"Password: ",this.state.password),r.a.createElement("p",null,"Email: ",this.state.email),r.a.createElement("p",null,"Address: ",this.state.address),r.a.createElement("p",null,"City: ",this.state.city),r.a.createElement("p",null,"State: ",this.state.stateUSA),r.a.createElement("p",null,"Zip: ",this.state.zip)),r.a.createElement("div",null,r.a.createElement("h2",null,"My Posts"),this.state.auctionArray.length>0?r.a.createElement("div",null,this.displayAuctions()):r.a.createElement("p",null,"No posts to show."))))}}]),t}(r.a.Component);var R=Object(h.b)(function(e){return console.log("UserProfile: mapStateToProps state",e),{username:e.username,userId:e.userId,isLoggedIn:!0}})(U);function F(){var e=Object(f.a)(["\n     display: flex;\n     font-size: 1.5rem;\n     font-family: 'Space Mono', monospace;\n     border-bottom: 2px solid black;\n     align-items: baseline;\n     justify-content: space-around;\n     @media(max-width: 700px) {\n         font-size: .5rem;\n     }\n   .login {\n     order: 2;\n     color: black;\n     text-decoration: none;\n     margin-left: 200px;\n     @media(max-width: 700px){\n       margin-left: 50px;\n     }\n   }\n   .signup{\n     text-decoration: none;\n     color: black;\n   }\n   .logo{\n     text-shadow:\n          -1px -1px 0 #000,\n          1px -1px 0 #000,\n          -1px 1px 0 #000,\n          1px 1px 0 #000;\n       font-size: 2.5rem;\n       text-decoration: none;\n       color: red;\n       padding: 10px;\n       @media(max-width: 700px) {\n         font-size: .8rem;\n         padding-right: 3px;\n         padding-left: 3px;\n         text-shadow: none;\n     }\n   }\n"]);return F=function(){return e},e}var z=Object(b.a)("div")(F());function H(){var e=Object(f.a)(["\n display: flex;\n font-size: 1.5rem;\n font-family: 'Space Mono', monospace;\n border-bottom: 2px solid black;\n align-items: baseline;\n justify-content: space-between;\n @media(max-width: 700px) {\n     font-size: .5rem;\n     margin-top: 30px;\n  }\n\n .logo {\n   text-shadow:\n        -1px -1px 0  #000,\n        1px -1px 0 #000,\n        -1px 1px 0 #000,\n        1px 1px 0 #000;\n   text-decoration: none;\n   color: red;\n   font-size: 2.5rem;\n   @media (max-width: 700px) {\n     text-shadow: none;\n     font-size: .8rem;\n   }\n }\n .create {\n   text-decoration: none;\n   color: black;\n   @media(max-width: 700px) {\n\n   }\n }\n .welcome {\n   text-decoration: none;\n   color: black;\n }\n .logout {\n   text-decoration: none;\n   color: black;\n }\n .notification {\n   /* text-decoration: none; */\n   color: red;\n }\n"]);return H=function(){return e},e}var W=Object(b.a)("div")(H()),G=n(29),$=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getCompletedAuctionIds=function(e){console.log("getting completed auction IDs...");var t=[];e.map(function(e){t.push(e.id)}),n.setState({completedAuctionIdArray:t},function(){console.log("These are the IDs of the completed auctions",n.state.completedAuctionIdArray),n.loopAuctionsForHighestBid(n.state.completedAuctionIdArray)})},n.sendToReduxStore=function(e){console.log("sending to redux store...");var t={userNotificationArray:e.userNotificationArray};n.props.dispatch({type:"USER_NOTIFICATION",payload:t}),n.setState({loading:!1,errorArray:[],isError:!1,sendToRedux:!1,sendToReduxData:null})},n.state={userNotificationArray:[],userBids:[],completedAuctionArray:[],completedAuctionsBidArray:[],completedAuctionIdArray:[],userBidsArray:[],winningBidsArray:[],userAuctionWinIdArray:[],loading:null,errorArray:[],isError:null,sendToRedux:!1,sendToReduxData:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("this.props",this.props),this.pullCompletedAuctionDataFromDb()}},{key:"pullCompletedAuctionDataFromDb",value:function(){var e=this;console.log("pulling completed auctions..."),A.a.get("/api/auction/complete").then(function(t){console.log("These are all of the completed auctions: ",t.data),e.setState({completedAuctionArray:t.data},function(){e.getCompletedAuctionIds(e.state.completedAuctionArray)})}).catch(function(e){console.log(e)})}},{key:"loopAuctionsForHighestBid",value:function(e){var t=this;console.log("Now, we're looping through the auction array and pulling highest bids for each one");for(var n=[],a=function(a){n.push(new Promise(function(n,r){t.fetchHighestBidFromDb(e[a]).then(function(e){n(e.data)}).catch(function(e){r(e)})}))},r=0;r<e.length;r++)a(r);Promise.all(n).then(function(e){var n=e.filter(function(e){return""!=e});t.setState({winningBidsArray:n},function(){console.log("winningBidsArray has been set"),t.findUserAuctionWins(t.state.winningBidsArray)})}).catch(function(e){console.log("an error occurred: ",e)})}},{key:"fetchHighestBidFromDb",value:function(e){var t={auctionId:e};return A.a.get("/api/bid/completedAuctionHighestBid",{params:t})}},{key:"findUserAuctionWins",value:function(e){for(var t=this,n=[],a=0;a<e.length;a++)e[a].UserId===this.props.userId&&(console.log("we have a winner: ",e[a].AuctionId," for: ",e[a].bidAmount),n.push(e[a].AuctionId));var r,i=(r=n,Object(G.a)(new Set(r)));this.setState({userAuctionWinIdArray:i},function(){console.log("this.state.userAuctionWinIdArray",t.state.userAuctionWinIdArray)})}},{key:"pullHighestBidFromDb",value:function(e){var t=this;console.log("pulling completed auction bids...");var n={auctionId:e};A.a.get("/api/bid/completedAuctionHighestBid",{params:n}).then(function(e){console.log("/api/bid/completedAuctionBids -- resp.data",e.data),t.setState({completedAuctionsBidArray:e.data},function(){console.log("this.state.completedAuctionsBidArray",t.state.completedAuctionsBidArray)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("span",{onClick:this.callme},"Yo ",this.props.userId)}}]),t}(r.a.Component);Object(h.b)(function(e){return{username:e.username,userId:e.userId,isLoggedIn:!0}})($);var V=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLogOut=function(){n.props.dispatch({type:"USER_LOGOUT_REQUEST"})},n.displayNavLinks=function(){return null!==n.props.username?r.a.createElement(W,null,r.a.createElement(x.a,{className:"logo",to:"/"},"Thread Auction"),r.a.createElement(x.a,{className:"create",to:"/create-auction"},"Create Auction"),r.a.createElement(x.a,{className:"welcome",to:"/order-history"},"Order History"),r.a.createElement(x.a,{className:"welcome",to:"/profile"},n.props.username,"'s Profile"),r.a.createElement(x.a,{className:"logout",to:"/",onClick:n.handleLogOut},"Log Out")):null===n.props.username?r.a.createElement(z,null,r.a.createElement(x.a,{className:"logo",to:"/"},"Thread Auction"),r.a.createElement(x.a,Object(I.a)({className:"login",to:"/login"},"className","login"),"Login"),r.a.createElement(x.a,Object(I.a)({className:"signup",to:"/signup"},"className","signup"),"Signup")):r.a.createElement("div",null,r.a.createElement("span",null,"something went wrong"))},n.handleLogOut=n.handleLogOut.bind(Object(O.a)(Object(O.a)(n))),n.displayNavLinks=n.displayNavLinks.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.displayNavLinks())}}]),t}(r.a.Component);var _=Object(h.b)(function(e){return console.log("Product: mapStateToProps state",e),{username:e.username,isLoggedIn:!0}})(V),Y=n(26),J=[{value:"",label:"None"},{value:"M",label:"Male"},{value:"F",label:"Female"},{value:"U",label:"Unisex"}],Z=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleGenderChange=function(e){n.setState({gender:e},function(){console.log(n.state),n.props.handleGenderChange(e)})},n.state={gender:e.gender||{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.a,{value:this.state.gender,onChange:this.handleGenderChange,options:J})}}]),t}(r.a.Component),K=[{value:"",label:"None"},{value:"shirts",label:"Shirts"},{value:"longSleeves",label:"Long-sleeves / Sweaters"},{value:"jackets",label:"Jackets"},{value:"shorts",label:"Shorts"},{value:"pants",label:"Pants"},{value:"underwear",label:"Underwear / Delicates"},{value:"skirts",label:"Skirts"},{value:"dresses",label:"Dresses"},{value:"shoes",label:"Shoes"},{value:"hats",label:"Hats"},{value:"socks",label:"Socks"},{value:"other",label:"Other"}],Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleCategoryChange=function(e){n.setState({category:e},function(){n.props.handleCategoryChange(e)})},n.state={category:e.category||{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.a,{value:this.state.category,onChange:this.handleCategoryChange,options:K})}}]),t}(r.a.Component),X=(n(94),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).showTimeRemaining=function(e){var t=D(e),n=P(t);return n.isComplete?r.a.createElement("span",null,"Auction Complete"):r.a.createElement("span",null,r.a.createElement("strong",null,"Time Remaining: "),n.days,"d ",n.hours,"h ",n.minutes,"m")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"box-style"},r.a.createElement(x.a,{to:"/product/".concat(this.props.auctionId),component:L,className:"img-container"},r.a.createElement("img",{src:this.props.imgLink,alt:"",className:"center-block rounded img-custom"})),r.a.createElement(x.a,{to:"/product/".concat(this.props.auctionId),component:L},r.a.createElement("h5",{className:"product-title"},this.props.title)),r.a.createElement("p",null,r.a.createElement("strong",null,"Category: "),this.props.category),r.a.createElement("p",null,r.a.createElement("strong",null,"Starting Price: "),"$",this.props.startingPrice),r.a.createElement("p",null,r.a.createElement("strong",null,"Minimum Bid Increment: "),this.props.minBidIncrement),r.a.createElement("p",null,r.a.createElement("strong",null,"Posted: "),k(this.props.createdAt)),r.a.createElement("p",null,this.showTimeRemaining(this.props.createdAt)))}}]),t}(r.a.Component)),q=(n(96),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.pullProductsFromDb(),n.setState({productObjectArray:[],gender:"",category:"",errorMsg:"",isError:null})},n.handleGenderChange=function(e){n.setState({gender:e.value},function(){n.pullProductsFromDb()})},n.handleCategoryChange=function(e){n.setState({category:e.value},function(){n.pullProductsFromDb()})},n.state={productObjectArray:[],gender:null,category:null,errorMsg:null,isError:null},n.handleGenderChange=n.handleGenderChange.bind(Object(O.a)(Object(O.a)(n))),n.handleCategoryChange=n.handleCategoryChange.bind(Object(O.a)(Object(O.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"pullProductsFromDb",value:function(){var e=this,t={gender:this.state.gender,category:this.state.category};A.a.get("/api/auction",{params:t}).then(function(t){200===t.status?(e.setState({productObjectArray:t.data}),0===t.data.length?(console.log("resp.data is empty"),e.setState({errorMsg:"No products to show. Please try filtering for other products.",isError:!0})):null===t.data?(console.log("resp.data is null"),e.setState({errorMsg:"We ran into an error loading the products. Please try again.",isError:!0})):e.setState({errorMsg:null,isError:!1})):console.log("front end /api/auction error")}).catch(function(t){console.log(t),e.setState({errorMsg:"Error loading products. Please reload the page.",isError:!0})})}},{key:"showProducts",value:function(){console.log("showing products...");var e=this.state.productObjectArray.map(function(e){return r.a.createElement(X,{key:e.title,auctionId:e.id,imgLink:e.imgLink,title:e.title,description:e.description,gender:e.gender,category:e.category,startingPrice:e.startingPrice,minBidIncrement:e.minBidIncrement,createdAt:e.createdAt})});return r.a.createElement("div",null,e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center filter-margin"},r.a.createElement("h3",{className:"col-2"},"Filter"),r.a.createElement("div",{className:"col-10 d-flex justify-content-around"},r.a.createElement("div",{className:"d-inline-block gender-form"},r.a.createElement("span",null,"Gender: "),r.a.createElement(Z,{className:"d-inline-block gender-align",gender:this.state.gender,handleGenderChange:this.handleGenderChange.bind(this)})),r.a.createElement("div",{className:"d-inline-block category-form"},r.a.createElement("span",null,"Category: "),r.a.createElement(Q,{className:"d-inline-block category-align",category:this.state.category,handleCategoryChange:this.handleCategoryChange.bind(this)})))),this.state.isError?this.state.errorMsg:"",r.a.createElement("div",{className:"d-flex justify-content-around align-items-start"},this.showProducts()))}}]),t}(a.Component));function ee(){var e=Object(f.a)(["\ndisplay: flex;\nmargin-right: 30%;\nmargin-left: 30%;\nbackground-color: rgb(232, 234,237);\njustify-content: center;\npadding: 50px;\nbox-shadow: 15px 10px 10px gray;\n  form {\n    input{\n      width: 100%;\n      margin-bottom: 30px;\n    }\n    button {\n      font-size: 1rem;\n      border-radius: 5px;\n    }\n    button:hover {\n      background-color: rgb(99, 180,245);\n    }\n  }\n"]);return ee=function(){return e},e}var te=Object(b.a)("fragment")(ee()),ne=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({loading:!1,submitted:!1,errorMsg:null,isError:null,sendToRedux:!1,sendToReduxData:null})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(I.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a={username:t.username,password:t.password};console.log("userData",a),n.setState({loading:!0}),n.checkDbForUsernameAndPassword(a)},n.sendToReduxStore=function(e){console.log("sending to redux store...");var t={username:e.username,userId:e.id};n.props.dispatch({type:"USER_LOGIN_REQUEST",payload:t}),n.setState({submitted:!0,loading:!1,errorArray:[],isError:!1,sendToRedux:!1,sendToReduxData:null})},n.componentDidUpdate=function(){n.state.sendToRedux&&n.sendToReduxStore(n.state.sendToReduxData),n.state.submitted&&(console.log("user data submitted"),window.location="/")},n.checkDbForUsernameAndPassword=function(e){A.a.get("/api/user/login",{params:e}).then(function(e){if(console.log("resp.data",e.data),200===e.status){if(console.log("success"),n.setState({loading:!1}),null!==e.data)return void n.setState({errorMsg:null,isError:!1,sendToRedux:!0,sendToReduxData:e.data});console.log("resp.data is null"),n.setState({errorMsg:"We couldn't find your profile. Please check your username and password and try again.",isError:!0})}else console.log("front end /api/user/create error")}).catch(function(e){n.setState({errorMsg:"We ran into an issue trying to find your account.",isError:!0}),console.log(e)})},n.state={username:"",password:"",loading:!1,submitted:!1,errorMsg:null,isError:null,sendToRedux:!1,sendToReduxData:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(te,null,r.a.createElement("form",null,r.a.createElement("label",null,"Username: "),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Password: "),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),this.state.loading?"Loading...":r.a.createElement("button",{onClick:this.handleSubmit},"submit")),this.state.isError?r.a.createElement("div",{className:"error-box"},r.a.createElement("p",null,this.state.errorMsg)):"")}}]),t}(r.a.Component);var ae=Object(h.b)(function(e){return{username:e.username,userId:e.userId,isLoggedIn:!0}})(ne),re=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",null,"Sorry, that page doesn't exist.")}}]),t}(r.a.Component);function ie(){var e=Object(f.a)(["\n    text-align: center;\n\n    .shippingInfoHead{\n        font-size: 1.5rem;\n        @media(max-width: 700px){\n            font-size: 1rem;\n        }\n    }\n    .userInfoHead {\n        font-size: 1.5rem;\n        @media(max-width: 700px){\n            font-size: 1rem;\n        }\n    }\n\n    .fillOut{\n        font-size: 2rem;\n        @media(max-width: 700px){\n            font-size: 1rem;\n        }\n    }\n\n    input {\n        width: 40%;\n        padding: 10px;\n        margin: 20px;\n        @media(max-width: 700px){\n            width: 80%;\n            font-size: .5rem;\n        }\n    }\n    .userInfo {\n        display: flex;\n        margin-top: 30px;\n        flex-direction: column;\n    }\n    .shippingInfo {\n        display: flex;\n        flex-direction: column;\n    }\n    .submitBtn {\n        width: auto;\n        font-size: 2rem;\n        border-radius: 5px;\n        margin-bottom: 50px;\n        @media(max-width: 700px){\n            font-size: 1rem;\n        }\n    }\n    .submitBtn:hover {\n        background-color: rgb(99, 180,245);\n        color: white;\n    }\n\n"]);return ie=function(){return e},e}var oe=Object(b.a)("div")(ie()),se=function(e){var t,n=[],a=!1;(e.firstName.length>30||e.firstName.length<1)&&(n.push("First name must be under 30 characters."),a=!0),(e.lastName.length>30||e.lastName.length<1)&&(n.push("Last name must be under 30 characters."),a=!0),(e.username.length>20||e.username.length<3)&&(n.push("Username must be between 3-20 characters."),a=!0),(e.password.length>20||e.password.length<8)&&(n.push("Password must be between 8-20 characters."),a=!0),(t=e.email,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()))||(n.push("Please enter a valid email."),a=!0);return["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","WY","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI"].includes(e.stateUSA.toUpperCase())||(n.push("Please enter a valid 2-letter state code."),a=!0),/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e.zip)||(n.push("Please enter a valid 5-number zip code."),a=!0),{errorArray:n,isError:a}},le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({firstName:"",lastName:"",username:"",password:"",email:"",address:"",city:"",stateUSA:"",zip:"",submitted:!1,loading:!1,errorArray:[],isError:null})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(I.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0},function(){return n.saveInputs()})},n.saveInputs=function(){var e=n.state,t=e.firstName,a=e.lastName,r=e.username,i=e.password,o=e.email,s=e.address,l=e.city,c=e.stateUSA,u=e.zip,d={firstName:t.toString(),lastName:a.toString(),username:r.toString(),password:i.toString(),email:o.toString(),address:s.toString(),city:l.toString(),stateUSA:c.toString(),zip:u.toString()};console.log("saveInputs userData",d);var m=n.validateUserInputs(d);console.log("validateUserInputs returned errorObject",m),m.isError?(console.log("WOAH we got an error. Do not send data to db"),n.setState({errorArray:m.errorArray,isError:!0,loading:!1},function(){return console.log(n.state)})):n.sendUserDataToDb(d)},n.validateUserInputs=function(e){return console.log("validating inputs..."),se(e)},n.sendUserDataToDb=function(e){console.log("sending user data to db...."),A.a.post("/api/user/create",e).then(function(e){console.log(e.data),200===e.status?(console.log("success"),n.setState({submitted:!0,loading:!1,errorArray:[],isError:!1})):console.log("front end /api/user/create error")}).catch(function(e){n.setState({errorArray:["There was a problem saving your account"]})})},n.componentDidUpdate=function(){n.state.submitted&&(window.location="/login")},n.displayErrors=function(){return n.state.errorArray.map(function(e,t){return r.a.createElement("p",{key:t},e)})},n.state={firstName:"",lastName:"",username:"",password:"",email:"",address:"",city:"",stateUSA:"",zip:"",submitted:!1,loading:!1,errorArray:[],isError:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(oe,null,r.a.createElement("h3",{className:"fillOut"},"Please fill out the information below."),this.state.isError?r.a.createElement(j,{className:"error-box"},this.displayErrors()):"",r.a.createElement("form",null,r.a.createElement("div",{className:"userInfo"},r.a.createElement("p",{className:"userInfoHead"},"User Info"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"First name",name:"firstName",value:this.state.firstName,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Last name",name:"lastName",value:this.state.lastName,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Username",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"shippingInfo"},r.a.createElement("p",{className:"shippingInfoHead"},"Shipping Info"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Address",name:"address",value:this.state.address,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"City",name:"city",value:this.state.city,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"State",name:"stateUSA",value:this.state.stateUSA,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Zip",name:"zip",value:this.state.zip,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("br",null),r.a.createElement("div",{className:"buttonDiv"},this.state.loading?"Loading...":r.a.createElement("button",{className:"submitBtn",onClick:this.handleSubmit},"submit"))))}}]),t}(r.a.Component),ce=function(e){console.log("validating inputs...");var t=[],n=!1;return e.title.length<1?(t.push("Please enter an item title."),n=!0):e.title.length>100&&(t.push("Item title is too long."),n=!0),e.description.length<1?(t.push("Please enter an item description."),n=!0):e.description.length>1e3&&(t.push("Item description is too long."),n=!0),""===e.gender&&(t.push("Please choose an item gender."),n=!0),""===e.category&&(t.push("Please choose a category."),n=!0),{errorArray:t,isError:n}};function ue(){var e=Object(f.a)(["\n.AuctionSubmit {\n    display: flex;\n    justify-content: center;\n    button {\n        width: 100px;\n        margin-bottom: 30px;\n    }\n    button:hover {\n        background-color: rgb(115, 174, 245);\n    }\n}\n  #startingPrice {\n    margin-bottom: 50px;\n  }\n  .catForm {\n    margin-bottom: 20px;\n  }\n  h3 {\n    text-align: center;\n    margin-bottom: 50px;\n  }\n  form {\n    margin: 0 auto;\n    width: 80vw;\n    align-items: center;\n    .theForm {\n      margin: 0 auto;\n      width: 50%;\n      margin-bottom: 30px;\n      @media (max-width: 700px) {\n        width: 80%;\n        margin-top: 20px;\n      }\n      .title,\n      .description,\n      .ImageLink,\n      .genderList {\n        margin-bottom: 30px;\n        width: 80%;\n        text-align: left;\n      }\n    }\n    .title {\n      input {\n        width: 100%;\n      }\n    }\n    .description {\n      textarea {\n        width: 100%;\n        height: 100px;\n      }\n    }\n    .ImageLink {\n      input {\n        width: 100%;\n      }\n    }\n    .selectGender {\n      margin-bottom: 30px;\n      list-style: none;\n      list-style-type: none;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n\n\n      li {\n        float: left;\n        margin-left: 30px;\n      }\n\n      li a {\n        display: block;\n        color: black;\n        text-align: center;\n        padding: 16px;\n        text-decoration: none;\n      }\n    }\n  }\n      .title,\n      .description,\n      .ImageLink {\n          @media(max-width: 700px) {\n              input, textarea{\n                  border: solid 1px gray;\n              }\n          }\n      }\n"]);return ue=function(){return e},e}var de=Object(b.a)("div")(ue()),me=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({title:"",description:"",imgLink:"",gender:"",category:"",startingPrice:10,minBidIncrement:5,submitted:!1,loading:!1,errorArray:[],isError:null})},n.handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(I.a)({},a,r))},n.handleRadioButtonChange=function(e){n.setState({gender:e.target.value},function(){console.log(n.state)})},n.handleCategoryChange=function(e){n.setState({category:e.value},function(){console.log(n.state)})},n.handleSliderChange=function(e){var t=e.target,a=t.id,r=t.value;n.setState(Object(I.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0},function(){return n.saveInputs()})},n.saveInputs=function(){var e=n.state,t=e.title,a=e.description,r=e.imgLink,i=e.gender,o=e.category,s=e.startingPrice,l=e.minBidIncrement,c={userId:n.props.userId,title:t.toString(),description:a.toString(),imgLink:r.toString(),gender:i.toString(),category:o.toString(),startingPrice:s,minBidIncrement:l},u=ce(c);n.setState({errorArray:u.errorArray,isError:u.isError},function(){console.log(n.state)}),u.isError?(console.log("WOAH we got an error. Do not send data to db"),n.setState({loading:!1})):(console.log("send that s h i t to the DB!"),n.sendUserDataToDb(c))},n.sendUserDataToDb=function(e){console.log("sending user data to db...."),A.a.post("/api/auction/create",e).then(function(e){console.log(e.data),200===e.status?(console.log("success"),n.setState({submitted:!0,loading:!1,errorArray:[],isError:!1})):console.log("front end /api/auction/create error")}).catch(function(e){console.log(e),n.setState({errorArray:["There was a problem saving your auction."]})})},n.componentDidUpdate=function(){n.state.submitted&&(console.log("~~~~~~SUBMITTED~~~~~~"),n.setState({title:"",description:"",imgLink:"",gender:"",category:"",startingPrice:10,minBidIncrement:5,submitted:!1},function(){n.handleCategoryChange({value:n.state.category})}))},n.displayErrors=function(){return n.state.errorArray.map(function(e,t){return r.a.createElement("p",{key:t},e)})},n.state={title:"",description:"",imgLink:"",gender:"",category:"",startingPrice:"",minBidIncrement:"",submitted:!1,loading:!1,errorArray:[],isError:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(de,null,r.a.createElement("h3",null,"Please fill out the information below."),this.state.isError?r.a.createElement(j,null,this.displayErrors()):"",r.a.createElement("form",null,r.a.createElement("div",{className:"theForm"},r.a.createElement("h4",null,"Item Info"),r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Title: "),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleInputChange(t)}})),r.a.createElement("div",{className:"description"},r.a.createElement("span",null,"Description: "),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(t){return e.handleInputChange(t)}})),r.a.createElement("div",{className:"ImageLink"},r.a.createElement("span",null,"Image Link: "),r.a.createElement("input",{type:"text",name:"imgLink",value:this.state.imgLink,onChange:function(t){return e.handleInputChange(t)}})),r.a.createElement("div",{className:"genderList"},r.a.createElement("span",null,"Gender: "),r.a.createElement("ul",{className:"selectGender"},r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"male"},r.a.createElement("input",{type:"radio",id:"male",name:"gender",value:"M",checked:"M"===this.state.gender,onChange:function(t){return e.handleRadioButtonChange(t)}}),"Male")),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"female"},r.a.createElement("input",{type:"radio",id:"female",name:"gender",value:"F",checked:"F"===this.state.gender,onChange:function(t){return e.handleRadioButtonChange(t)}}),"Female")),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"unisex"},r.a.createElement("input",{type:"radio",id:"unisex",name:"gender",value:"U",checked:"U"===this.state.gender,onChange:function(t){return e.handleRadioButtonChange(t)}}),"Unisex")))),r.a.createElement("div",null,r.a.createElement("span",null,"Category: "),r.a.createElement(Q,{category:this.state.category,handleCategoryChange:this.handleCategoryChange.bind(this)})),r.a.createElement("div",null,r.a.createElement("div",null,"Starting Price: $",this.state.startingPrice),r.a.createElement("input",{type:"range",min:"1",max:"300",value:this.state.startingPrice,className:"slider",id:"startingPrice",onChange:function(t){return e.handleSliderChange(t)}})),r.a.createElement("div",null,r.a.createElement("div",null,"Minimum Bid Increment: $",this.state.minBidIncrement),r.a.createElement("input",{type:"range",min:"1",max:"20",value:this.state.minBidIncrement,className:"slider",id:"minBidIncrement",onChange:function(t){return e.handleSliderChange(t)}}))),r.a.createElement("br",null),r.a.createElement("div",{className:"AuctionSubmit"},this.state.loading?"Loading...":r.a.createElement("button",{className:"btn btn-primary submit-button",onClick:this.handleSubmit},"submit"))))}}]),t}(r.a.Component);var pe=Object(h.b)(function(e){return console.log("Product: mapStateToProps state",e),{username:e.username,userId:e.userId,isLoggedIn:!0}})(me),ge=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getIsAuctionComplete=function(e){var t=D(e);return P(t).isComplete},n.state={bidResult:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.isUserBidHighestBid(this.props.auctionId,this.props.bidAmount)}},{key:"isUserBidHighestBid",value:function(e,t){var n=this;new Promise(function(t,a){n.getMaxBidAmountFromAuctionId(e).then(function(e){t(e.data.bidAmount)}).catch(function(e){a(e)})}).then(function(e){var a=null;a=e===t?"Auction won":"Not the highest bid",n.setState({bidResult:a})}).catch(function(e){console.log(e)})}},{key:"getMaxBidAmountFromAuctionId",value:function(e){var t={auctionId:e};return A.a.get("/api/bid/completedAuctionHighestBid",{params:t})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Status: "),this.getIsAuctionComplete(this.props.createdAt)?"Complete":"Ongoing"),r.a.createElement("p",null,r.a.createElement("strong",null,"Result: "),this.state.bidResult))}}]),t}(r.a.Component),he=(n(98),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).showTimeRemaining=function(e){var t=D(e),n=P(t);return n.isComplete?r.a.createElement("span",null,r.a.createElement("strong",null,"Auction Complete")):r.a.createElement("span",null,r.a.createElement("strong",null,"Time Remaining: "),n.days,"d ",n.hours,"h ",n.minutes,"m")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row row-style"},r.a.createElement("div",{className:"col-3"},r.a.createElement(x.a,{to:"/product/".concat(this.props.auctionId),component:L,className:"img-container"},r.a.createElement("img",{src:this.props.imgLink,height:"150px",width:"150px",alt:"",className:"img-thumbnail rounded img-custom"}))),r.a.createElement("div",{className:"col-9 row"},r.a.createElement(x.a,{to:"/product/".concat(this.props.auctionId),component:L,className:"col-7 text-left"},r.a.createElement("h5",{className:"product-title"},this.props.title)),r.a.createElement("div",{className:"col-5 text-left"},r.a.createElement("h5",null,"Bid Info")),r.a.createElement("hr",{className:"hr"}),r.a.createElement("div",{className:"col-7 text-left"},r.a.createElement("p",null,r.a.createElement("strong",null,"Starting Price: "),this.props.startingPrice),r.a.createElement("p",null,r.a.createElement("strong",null,"Created At: "),k(this.props.createdAt)),r.a.createElement("p",null,this.showTimeRemaining(this.props.createdAt))),r.a.createElement("div",{className:"col-5 text-left"},r.a.createElement("p",null,r.a.createElement("strong",null,"Submitted At: "),k(this.props.bid.bidSubmitTime)),r.a.createElement("p",null,r.a.createElement("strong",null,"Bid Amount: "),"$",this.props.bid.bidAmount),r.a.createElement(ge,{createdAt:this.props.createdAt,auctionId:this.props.auctionId,bidAmount:this.props.bid.bidAmount}))))}}]),t}(r.a.Component)),fe=(n(100),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){n.setState({userId:n.props.userId,username:n.props.username,bidArray:[],auctionArray:[],errorArray:[],isError:null},function(){n.pullBidsFromDb(n.state.userId)})},n.pullBidsFromDb=function(e){var t={userId:e};A.a.get("/api/bid/auctionBids",{params:t}).then(function(e){n.setState({bidArray:e.data},function(){n.getAuctionIds(n.state.bidArray)})}).catch(function(e){console.log(e)})},n.displayBids=function(e,t){var a=e.map(function(e){return r.a.createElement("div",{key:e.id},n.findAuctionWithID(e,t))});return r.a.createElement("div",null,a)},n.state={userId:"",username:"",bidArray:[],auctionIdArray:[],auctionArray:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getAuctionIds",value:function(e){var t=this,n=[];e.map(function(e){n.push(e.AuctionId)});var a,r=(a=n,Object(G.a)(new Set(a)));this.setState({auctionIdArray:r},function(){t.loopAuctionsForProductInfo(t.state.auctionIdArray)})}},{key:"getBidStatus",value:function(){}},{key:"findAuctionWithID",value:function(e,t){return t.map(function(t){if(t.id===e.AuctionId)return r.a.createElement(he,{key:t.id,auctionId:t.id,imgLink:t.imgLink,title:t.title,startingPrice:t.startingPrice,createdAt:t.createdAt,bid:e})})}},{key:"loopAuctionsForProductInfo",value:function(e){for(var t=this,n=[],a=function(a){n.push(new Promise(function(n,r){t.fetchAuctionFromDb(e[a]).then(function(e){n(e.data)}).catch(function(e){r(e)})}))},r=0;r<e.length;r++)a(r);Promise.all(n).then(function(e){var n=e.filter(function(e){return""!=e});t.setState({auctionArray:n},function(){})}).catch(function(e){console.log("an error occurred: ",e)})}},{key:"fetchAuctionFromDb",value:function(e){var t={auctionId:e};return A.a.get("/api/auction/id",{params:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container center-content"},r.a.createElement("h2",{className:"margin-header"},"My Bid History"),this.state.bidArray.length>0?r.a.createElement("div",null,this.displayBids(this.state.bidArray,this.state.auctionArray)):r.a.createElement("p",null,"No bids to show."))}}]),t}(r.a.Component));var be=Object(h.b)(function(e){return{username:e.username,userId:e.userId,isLoggedIn:!0}})(fe),Ee=(n(102),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement("div",{className:"background-image container-padding"},r.a.createElement(p.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:q}),r.a.createElement(g.a,{path:"/product/:auctionId",component:L}),r.a.createElement(g.a,{exact:!0,path:"/profile",component:R}),r.a.createElement(g.a,{exact:!0,path:"/order-history",component:be}),r.a.createElement(g.a,{exact:!0,path:"/login",component:ae}),r.a.createElement(g.a,{exact:!0,path:"/signup",component:le}),r.a.createElement(g.a,{exact:!0,path:"/create-auction",component:pe}),r.a.createElement(g.a,{component:re})))))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=n(23),ye=function(){try{var e=localStorage.getItem("state");return null===e?void 0:JSON.parse(e)}catch(t){return}}(),Ae={username:null,userId:null,isLoggedIn:!1,userNotificationArray:[]},xe=Object(ve.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return console.log("global state updated - user logged in"),{username:t.payload.username,userId:t.payload.userId,isLoggedIn:t.payload.isLoggedIn};case"USER_LOGOUT_REQUEST":return console.log("global state updated - user logged out"),{username:null,userId:null,isLoggedIn:!1};case"USER_NOTIFICATION":return console.log("global state updated - show user notification"),{userNotificationArray:t.payload.userNotificationArray};default:return e}},ye);xe.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}(xe.getState())}),o.a.render(r.a.createElement(h.a,{store:xe},r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,n){e.exports=n(105)},63:function(e,t,n){},84:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[55,2,1]]]);
//# sourceMappingURL=main.812f9b21.chunk.js.map